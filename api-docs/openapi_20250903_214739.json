{"openapi":"3.1.0","info":{"title":"Infinite Scribe API Gateway","description":"API Gateway for the Infinite Scribe platform","version":"0.1.0"},"paths":{"/health":{"get":{"tags":["health"],"summary":"Health Check","description":"Comprehensive health check endpoint with all service connectivity verification.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ready":{"get":{"tags":["health"],"summary":"Readiness Check","description":"Readiness check endpoint with schema verification.","operationId":"readiness_check_ready_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/auth/register":{"post":{"tags":["auth"],"summary":"Register a new user","description":"Register a new user account with email verification","operationId":"register_user_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegisterRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/RegisterResponse"},{"$ref":"#/components/schemas/ErrorResponse"}],"title":"Response Register User Api V1 Auth Register Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/verify-email":{"get":{"tags":["auth"],"summary":"Verify email address","description":"Verify user's email address using verification token","operationId":"verify_email_api_v1_auth_verify_email_get","parameters":[{"name":"token","in":"query","required":true,"schema":{"type":"string","title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/MessageResponse"},{"$ref":"#/components/schemas/ErrorResponse"}],"title":"Response Verify Email Api V1 Auth Verify Email Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/resend-verification":{"post":{"tags":["auth"],"summary":"Resend verification email","description":"Resend email verification to user's email address","operationId":"resend_verification_email_api_v1_auth_resend_verification_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResendVerificationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/MessageResponse"},{"$ref":"#/components/schemas/ErrorResponse"}],"title":"Response Resend Verification Email Api V1 Auth Resend Verification Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["auth"],"summary":"User login","description":"Authenticate user and return access/refresh tokens","operationId":"login_user_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/AuthResponse"},{"$ref":"#/components/schemas/ErrorResponse"}],"title":"Response Login User Api V1 Auth Login Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["auth"],"summary":"User logout","description":"Logout user and invalidate current session","operationId":"logout_user_api_v1_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/MessageResponse"},{"$ref":"#/components/schemas/ErrorResponse"}],"title":"Response Logout User Api V1 Auth Logout Post"}}}}}}},"/api/v1/auth/refresh":{"post":{"tags":["auth"],"summary":"Refresh access token","description":"Refresh access token using refresh token","operationId":"refresh_access_token_api_v1_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/TokenResponse"},{"$ref":"#/components/schemas/ErrorResponse"}],"title":"Response Refresh Access Token Api V1 Auth Refresh Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/forgot-password":{"post":{"tags":["auth"],"summary":"Forgot password","description":"Send password reset email to user","operationId":"forgot_password_api_v1_auth_forgot_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/MessageResponse"},{"$ref":"#/components/schemas/ErrorResponse"}],"title":"Response Forgot Password Api V1 Auth Forgot Password Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/reset-password":{"post":{"tags":["auth"],"summary":"Reset password","description":"Reset user password using reset token","operationId":"reset_password_api_v1_auth_reset_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/MessageResponse"},{"$ref":"#/components/schemas/ErrorResponse"}],"title":"Response Reset Password Api V1 Auth Reset Password Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/change-password":{"post":{"tags":["auth"],"summary":"Change password","description":"Change user password (requires authentication)","operationId":"change_password_api_v1_auth_change_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/MessageResponse"},{"$ref":"#/components/schemas/ErrorResponse"}],"title":"Response Change Password Api V1 Auth Change Password Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/validate-password":{"get":{"tags":["auth"],"summary":"Validate password strength","description":"Check password strength and get suggestions","operationId":"validate_password_strength_api_v1_auth_validate_password_get","parameters":[{"name":"password","in":"query","required":true,"schema":{"type":"string","description":"Password to validate","title":"Password"},"description":"Password to validate"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordStrengthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/me":{"get":{"tags":["auth"],"summary":"Get current user","description":"Get current authenticated user's profile information","operationId":"get_current_user_profile_api_v1_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/UserResponse"},{"$ref":"#/components/schemas/ErrorResponse"}],"title":"Response Get Current User Profile Api V1 Auth Me Get"}}}}}},"put":{"tags":["auth"],"summary":"Update current user profile","description":"Update current authenticated user's profile information","operationId":"update_current_user_profile_api_v1_auth_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/UserResponse"},{"$ref":"#/components/schemas/ErrorResponse"}],"title":"Response Update Current User Profile Api V1 Auth Me Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["auth"],"summary":"Delete current user account","description":"Delete current authenticated user's account (soft delete)","operationId":"delete_current_user_account_api_v1_auth_me_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/MessageResponse"},{"$ref":"#/components/schemas/ErrorResponse"}],"title":"Response Delete Current User Account Api V1 Auth Me Delete"}}}}}}},"/api/v1/auth/sse-token":{"post":{"tags":["auth"],"summary":"Create Sse Token","description":"Create a short-term SSE authentication token.\n\nGenerates a specialized token for SSE connections with a short expiration time.\nThis token is derived from the user's JWT session and is used specifically\nfor EventSource authentication since EventSource doesn't support custom headers.\n\nArgs:\n    current_user: Authenticated user from JWT token\n\nReturns:\n    SSETokenResponse: SSE token with expiration timestamp\n\nRaises:\n    HTTPException: 401 if user is not authenticated","operationId":"create_sse_token_api_v1_auth_sse_token_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SSETokenResponse"}}}}}}},"/api/v1/events/stream":{"get":{"summary":"Sse Stream","description":"SSE streaming endpoint for real-time events.","operationId":"sse_stream_api_v1_events_stream_get","parameters":[{"name":"sse_token","in":"query","required":true,"schema":{"type":"string","description":"SSE authentication token","title":"Sse Token"},"description":"SSE authentication token"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/events/health":{"get":{"summary":"Sse Health","description":"SSE service health check endpoint.","operationId":"sse_health_api_v1_events_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SSEHealthResponse"}}}}}}},"/admin/launcher/status":{"get":{"tags":["launcher-admin"],"summary":"Get Launcher Status","description":"Get launcher and service status.","operationId":"get_launcher_status_admin_launcher_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LauncherStatusResponse"}}}}}}},"/admin/launcher/health":{"get":{"tags":["launcher-admin"],"summary":"Get Launcher Health","description":"Get cluster health summary.","operationId":"get_launcher_health_admin_launcher_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthSummaryResponse"}}}}}}}},"components":{"schemas":{"AuthResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"user":{"$ref":"#/components/schemas/UserResponse"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["success","access_token","refresh_token","user"],"title":"AuthResponse","description":"Authentication response schema."},"ChangePasswordRequest":{"properties":{"current_password":{"type":"string","title":"Current Password","description":"Current password"},"new_password":{"type":"string","minLength":8,"title":"New Password","description":"New password"}},"type":"object","required":["current_password","new_password"],"title":"ChangePasswordRequest","description":"Change password request schema."},"ConnectionStatistics":{"properties":{"active_connections":{"type":"integer","title":"Active Connections"},"redis_connection_counters":{"type":"integer","title":"Redis Connection Counters"}},"type":"object","required":["active_connections","redis_connection_counters"],"title":"ConnectionStatistics","description":"SSE connection statistics model."},"ErrorResponse":{"properties":{"success":{"type":"boolean","title":"Success","default":false},"error":{"type":"string","title":"Error"},"details":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Details"}},"type":"object","required":["error"],"title":"ErrorResponse","description":"Error response schema."},"ForgotPasswordRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"Email address","examples":["user@example.com"]}},"type":"object","required":["email"],"title":"ForgotPasswordRequest","description":"Forgot password request schema.","examples":[{"email":"user@example.com"}]},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthSummaryItem":{"properties":{"service_name":{"type":"string","title":"Service Name"},"status":{"type":"string","title":"Status"},"response_time_ms":{"type":"number","title":"Response Time Ms"},"last_check":{"type":"string","title":"Last Check"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["service_name","status","response_time_ms","last_check"],"title":"HealthSummaryItem","description":"Health summary item."},"HealthSummaryResponse":{"properties":{"cluster_status":{"type":"string","title":"Cluster Status","description":"Overall cluster health status"},"services":{"items":{"$ref":"#/components/schemas/HealthSummaryItem"},"type":"array","title":"Services","description":"Per-service health statuses"},"healthy_count":{"type":"integer","title":"Healthy Count","description":"Number of healthy services"},"total_count":{"type":"integer","title":"Total Count","description":"Total number of services"},"timestamp":{"type":"string","title":"Timestamp","description":"Query timestamp"}},"type":"object","required":["cluster_status","services","healthy_count","total_count"],"title":"HealthSummaryResponse","description":"Health summary response."},"LauncherStatusResponse":{"properties":{"launcher_status":{"type":"string","title":"Launcher Status","description":"Overall launcher status"},"services":{"items":{"$ref":"#/components/schemas/ServiceStatusItem"},"type":"array","title":"Services","description":"List of service statuses"},"total_services":{"type":"integer","title":"Total Services","description":"Total number of services"},"running_services":{"type":"integer","title":"Running Services","description":"Number of running services"},"timestamp":{"type":"string","title":"Timestamp","description":"Query timestamp"}},"type":"object","required":["launcher_status","services","total_services","running_services"],"title":"LauncherStatusResponse","description":"Launcher status response."},"MessageResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","message"],"title":"MessageResponse","description":"Generic message response schema."},"PasswordStrengthResponse":{"properties":{"is_valid":{"type":"boolean","title":"Is Valid"},"score":{"type":"integer","title":"Score"},"errors":{"items":{"type":"string"},"type":"array","title":"Errors"},"suggestions":{"items":{"type":"string"},"type":"array","title":"Suggestions"}},"type":"object","required":["is_valid","score","errors","suggestions"],"title":"PasswordStrengthResponse","description":"Password strength validation response."},"RefreshTokenRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token","description":"Refresh token"}},"type":"object","required":["refresh_token"],"title":"RefreshTokenRequest","description":"Refresh token request schema."},"RegisterResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"user":{"$ref":"#/components/schemas/UserResponse"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","user","message"],"title":"RegisterResponse","description":"Registration response schema."},"ResendVerificationRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"Email address"}},"type":"object","required":["email"],"title":"ResendVerificationRequest","description":"Resend verification email request schema."},"ResetPasswordRequest":{"properties":{"token":{"type":"string","title":"Token","description":"Reset token"},"new_password":{"type":"string","minLength":8,"title":"New Password","description":"New password"}},"type":"object","required":["token","new_password"],"title":"ResetPasswordRequest","description":"Reset password request schema."},"SSEHealthResponse":{"properties":{"status":{"type":"string","title":"Status"},"redis_status":{"type":"string","title":"Redis Status"},"connection_statistics":{"$ref":"#/components/schemas/ConnectionStatistics"},"service":{"type":"string","title":"Service"},"version":{"type":"string","title":"Version"}},"type":"object","required":["status","redis_status","connection_statistics","service","version"],"title":"SSEHealthResponse","description":"SSE health check response model."},"SSETokenResponse":{"properties":{"sse_token":{"type":"string","title":"Sse Token"},"expires_at":{"type":"string","format":"date-time","title":"Expires At"},"token_type":{"type":"string","title":"Token Type","default":"sse"}},"type":"object","required":["sse_token","expires_at"],"title":"SSETokenResponse","description":"SSE token response model."},"ServiceStatusItem":{"properties":{"name":{"type":"string","title":"Name","description":"Service name"},"status":{"type":"string","title":"Status","description":"Service status: running/starting/stopped/error/degraded"},"uptime_seconds":{"type":"integer","title":"Uptime Seconds","description":"Runtime duration in seconds"},"started_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Started At","description":"Start time in ISO format"},"pid":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Pid","description":"Process ID"},"port":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Port","description":"Service port"}},"type":"object","required":["name","status","uptime_seconds"],"title":"ServiceStatusItem","description":"Single service status item."},"TokenResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["success","access_token","refresh_token"],"title":"TokenResponse","description":"Token response schema."},"UpdateProfileRequest":{"properties":{"first_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"First Name","description":"First name"},"last_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Last Name","description":"Last name"},"bio":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Bio","description":"Bio"}},"type":"object","title":"UpdateProfileRequest","description":"Update user profile request schema."},"UserLoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"Email address"},"password":{"type":"string","title":"Password","description":"Password"}},"type":"object","required":["email","password"],"title":"UserLoginRequest","description":"User login request schema.","examples":[{"email":"user@example.com","password":"SecurePassword123!"}]},"UserRegisterRequest":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username","description":"Username"},"email":{"type":"string","format":"email","title":"Email","description":"Email address"},"password":{"type":"string","minLength":8,"title":"Password","description":"Password"},"first_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"First Name","description":"First name"},"last_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Last Name","description":"Last name"}},"type":"object","required":["username","email","password"],"title":"UserRegisterRequest","description":"User registration request schema.","example":{"email":"john.doe@example.com","first_name":"John","last_name":"Doe","password":"SecurePassword123!","username":"johndoe"}},"UserResponse":{"properties":{"id":{"type":"integer","title":"Id"},"username":{"type":"string","title":"Username"},"email":{"type":"string","title":"Email"},"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"bio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bio"},"is_active":{"type":"boolean","title":"Is Active"},"is_verified":{"type":"boolean","title":"Is Verified"},"is_superuser":{"type":"boolean","title":"Is Superuser"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"email_verified_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Email Verified At"},"last_login_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login At"}},"type":"object","required":["id","username","email","is_active","is_verified","is_superuser","created_at","updated_at"],"title":"UserResponse","description":"User response schema."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}