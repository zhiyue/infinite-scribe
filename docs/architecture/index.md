# 多智能体网络小说自动写作系统 全栈架构文档

## Table of Contents

- [多智能体网络小说自动写作系统 全栈架构文档](#table-of-contents)
  - [Introduction](./introduction.md)
    - [启动模板或现有项目](./introduction.md#启动模板或现有项目)
    - [Change Log](./introduction.md#change-log)
  - [High Level Architecture](./high-level-architecture.md)
    - [技术摘要](./high-level-architecture.md#技术摘要)
    - [平台与基础设施选择](./high-level-architecture.md#平台与基础设施选择)
    - [仓库结构](./high-level-architecture.md#仓库结构)
    - [High Level Architecture](./high-level-architecture.md#high-level-architecture)
    - [架构模式](./high-level-architecture.md#架构模式)
  - [Tech Stack](./tech-stack.md)
    - [Tech Stack表](./tech-stack.md#tech-stack表)
  - [Data Models](./data-models.md)
    - [Novel (小说) - PostgreSQL & Neo4j Node :Novel](./data-models.md#novel-小说-postgresql-neo4j-node-novel)
    - [Chapter (章节) - PostgreSQL & Neo4j Node :Chapter](./data-models.md#chapter-章节-postgresql-neo4j-node-chapter)
    - [Character (角色) - PostgreSQL & Neo4j Node :Character](./data-models.md#character-角色-postgresql-neo4j-node-character)
    - [WorldviewEntry (世界观条目) - PostgreSQL & Neo4j Node :WorldviewEntry](./data-models.md#worldviewentry-世界观条目-postgresql-neo4j-node-worldviewentry)
    - [Review (评审) - PostgreSQL](./data-models.md#review-评审-postgresql)
    - [StoryArc (故事弧) - PostgreSQL & Neo4j Node :StoryArc (可选，用于更高级的剧情规划)](./data-models.md#storyarc-故事弧-postgresql-neo4j-node-storyarc-可选用于更高级的剧情规划)
    - [Neo4j 关系模型概念](./data-models.md#neo4j-关系模型概念)
  - [Components](./components.md)
    - [1. API网关 (API Gateway)](./components.md#1-api网关-api-gateway)
    - [2. 世界铸造师Agent (Worldsmith Agent)](./components.md#2-世界铸造师agent-worldsmith-agent)
    - [3. 剧情策划师Agent (PlotMaster Agent)](./components.md#3-剧情策划师agent-plotmaster-agent)
    - [4. 大纲规划师Agent (Outliner Agent)](./components.md#4-大纲规划师agent-outliner-agent)
    - [5. 导演Agent (Director Agent)](./components.md#5-导演agent-director-agent)
    - [6. 角色专家Agent (CharacterExpert Agent)](./components.md#6-角色专家agent-characterexpert-agent)
    - [7. 世界观构建师Agent (WorldBuilder Agent)](./components.md#7-世界观构建师agent-worldbuilder-agent)
    - [8. 作家Agent (Writer Agent)](./components.md#8-作家agent-writer-agent)
    - [9. 评论家Agent (Critic Agent)](./components.md#9-评论家agent-critic-agent)
    - [10. 事实核查员Agent (FactChecker Agent)](./components.md#10-事实核查员agent-factchecker-agent)
    - [11. 改写者Agent (Rewriter Agent)](./components.md#11-改写者agent-rewriter-agent)
    - [Components图](./components.md#components图)
  - [External APIs](./external-apis.md)
    - [1. 大型语言模型 (LLM) API](./external-apis.md#1-大型语言模型-llm-api)
  - [Core Workflows](./core-workflows.md)
    - [1. 创世流程 (Genesis Flow) - UI触发](./core-workflows.md#1-创世流程-genesis-flow-ui触发)
    - [2. 章节生成流程 (Chapter Generation Flow) - 标准路径](./core-workflows.md#2-章节生成流程-chapter-generation-flow-标准路径)
  - [REST API Spec](./rest-api-spec.md)
  - [Database Schema](./database-schema.md)
    - [PostgreSQL](./database-schema.md#postgresql)
    - [Neo4j](./database-schema.md#neo4j)
  - [Source Tree](./source-tree.md)
  - [Backend Architecture: Unified Structure](./backend-architecture-unified-structure.md)
    - [后端统一架构说明](./backend-architecture-unified-structure.md#后端统一架构说明)
    - [服务启动示例](./backend-architecture-unified-structure.md#服务启动示例)
  - [Infrastructure and Deployment](./infrastructure-and-deployment.md)
    - [基础设施即代码 (Infrastructure as Code - IaC)](./infrastructure-and-deployment.md#基础设施即代码-infrastructure-as-code-iac)
    - [部署策略](./infrastructure-and-deployment.md#部署策略)
    - [环境](./infrastructure-and-deployment.md#环境)
    - [环境提升流程](./infrastructure-and-deployment.md#环境提升流程)
    - [回滚策略](./infrastructure-and-deployment.md#回滚策略)
  - [Error Handling Strategy](./error-handling-strategy.md)
    - [总体方法](./error-handling-strategy.md#总体方法)
    - [日志标准](./error-handling-strategy.md#日志标准)
    - [错误处理模式](./error-handling-strategy.md#错误处理模式)
      - [External APIs错误 (特别是LLM API)](./error-handling-strategy.md#external-apis错误-特别是llm-api)
      - [业务逻辑错误](./error-handling-strategy.md#业务逻辑错误)
      - [数据一致性](./error-handling-strategy.md#数据一致性)
  - [Coding Standards](./coding-standards.md)
    - [核心标准](./coding-standards.md#核心标准)
    - [命名约定](./coding-standards.md#命名约定)
    - [关键规则 (AI智能体必须严格遵守)](./coding-standards.md#关键规则-ai智能体必须严格遵守)
    - [语言特定指南](./coding-standards.md#语言特定指南)
  - [Test Strategy and Standards](./test-strategy-and-standards.md)
    - [测试理念](./test-strategy-and-standards.md#测试理念)
    - [测试类型与组织](./test-strategy-and-standards.md#测试类型与组织)
      - [1. 单元测试 (Unit Tests)](./test-strategy-and-standards.md#1-单元测试-unit-tests)
      - [2. 集成测试 (Integration Tests)](./test-strategy-and-standards.md#2-集成测试-integration-tests)
      - [3. 端到端测试 (End-to-End Tests)](./test-strategy-and-standards.md#3-端到端测试-end-to-end-tests)
    - [测试数据管理](./test-strategy-and-standards.md#测试数据管理)
    - [持续测试](./test-strategy-and-standards.md#持续测试)
  - [Security](./security.md)
    - [输入验证](./security.md#输入验证)
    - [认证与授权 (Authentication & Authorization)](./security.md#认证与授权-authentication-authorization)
    - [密钥管理 (Secrets Management)](./security.md#密钥管理-secrets-management)
    - [API安全](./security.md#api安全)
    - [数据保护](./security.md#数据保护)
    - [依赖安全](./security.md#依赖安全)
    - [Security测试 (后MVP)](./security.md#security测试-后mvp)
