# 多智能体网络小说自动写作系统 全栈架构文档

## Table of Contents

- [多智能体网络小说自动写作系统 全栈架构文档](#table-of-contents)
  - [简介](./简介.md)
    - [启动模板或现有项目](./简介.md#启动模板或现有项目)
    - [Change Log](./简介.md#change-log)
  - [高层架构](./高层架构.md)
    - [技术摘要](./高层架构.md#技术摘要)
    - [平台与基础设施选择](./高层架构.md#平台与基础设施选择)
    - [仓库结构](./高层架构.md#仓库结构)
    - [高层架构图](./高层架构.md#高层架构图)
    - [架构模式](./高层架构.md#架构模式)
  - [技术栈](./技术栈.md)
    - [技术栈表](./技术栈.md#技术栈表)
  - [数据模型](./数据模型.md)
    - [Novel (小说) - PostgreSQL & Neo4j Node :Novel](./数据模型.md#novel-小说-postgresql-neo4j-node-novel)
    - [Chapter (章节) - PostgreSQL & Neo4j Node :Chapter](./数据模型.md#chapter-章节-postgresql-neo4j-node-chapter)
    - [Character (角色) - PostgreSQL & Neo4j Node :Character](./数据模型.md#character-角色-postgresql-neo4j-node-character)
    - [WorldviewEntry (世界观条目) - PostgreSQL & Neo4j Node :WorldviewEntry](./数据模型.md#worldviewentry-世界观条目-postgresql-neo4j-node-worldviewentry)
    - [Review (评审) - PostgreSQL](./数据模型.md#review-评审-postgresql)
    - [StoryArc (故事弧) - PostgreSQL & Neo4j Node :StoryArc (可选，用于更高级的剧情规划)](./数据模型.md#storyarc-故事弧-postgresql-neo4j-node-storyarc-可选用于更高级的剧情规划)
    - [Neo4j 关系模型概念](./数据模型.md#neo4j-关系模型概念)
  - [组件](./组件.md)
    - [1. API网关 (API Gateway)](./组件.md#1-api网关-api-gateway)
    - [2. 世界铸造师Agent (Worldsmith Agent)](./组件.md#2-世界铸造师agent-worldsmith-agent)
    - [3. 剧情策划师Agent (PlotMaster Agent)](./组件.md#3-剧情策划师agent-plotmaster-agent)
    - [4. 大纲规划师Agent (Outliner Agent)](./组件.md#4-大纲规划师agent-outliner-agent)
    - [5. 导演Agent (Director Agent)](./组件.md#5-导演agent-director-agent)
    - [6. 角色专家Agent (CharacterExpert Agent)](./组件.md#6-角色专家agent-characterexpert-agent)
    - [7. 世界观构建师Agent (WorldBuilder Agent)](./组件.md#7-世界观构建师agent-worldbuilder-agent)
    - [8. 作家Agent (Writer Agent)](./组件.md#8-作家agent-writer-agent)
    - [9. 评论家Agent (Critic Agent)](./组件.md#9-评论家agent-critic-agent)
    - [10. 事实核查员Agent (FactChecker Agent)](./组件.md#10-事实核查员agent-factchecker-agent)
    - [11. 改写者Agent (Rewriter Agent)](./组件.md#11-改写者agent-rewriter-agent)
    - [组件图 (已更新，更强调Neo4j在存储层的作用)](./组件.md#组件图-已更新更强调neo4j在存储层的作用)
  - [外部API](./外部api.md)
    - [1. 大型语言模型 (LLM) API](./外部api.md#1-大型语言模型-llm-api)
  - [核心工作流](./核心工作流.md)
    - [1. 创世流程 (Genesis Flow) - UI触发](./核心工作流.md#1-创世流程-genesis-flow-ui触发)
    - [2. 章节生成流程 (Chapter Generation Flow) - 标准路径](./核心工作流.md#2-章节生成流程-chapter-generation-flow-标准路径)
  - [REST API Spec](./rest-api-spec.md)
  - [数据库模式](./数据库模式.md)
    - [PostgreSQL](./数据库模式.md#postgresql)
    - [Neo4j](./数据库模式.md#neo4j)
  - [源代码树](./源代码树.md)
  - [基础设施与部署](./基础设施与部署.md)
    - [基础设施即代码 (Infrastructure as Code - IaC)](./基础设施与部署.md#基础设施即代码-infrastructure-as-code-iac)
    - [部署策略](./基础设施与部署.md#部署策略)
    - [环境](./基础设施与部署.md#环境)
    - [环境提升流程](./基础设施与部署.md#环境提升流程)
    - [回滚策略](./基础设施与部署.md#回滚策略)
  - [错误处理策略](./错误处理策略.md)
    - [总体方法](./错误处理策略.md#总体方法)
    - [日志标准](./错误处理策略.md#日志标准)
    - [错误处理模式](./错误处理策略.md#错误处理模式)
      - [外部API错误 (特别是LLM API)](./错误处理策略.md#外部api错误-特别是llm-api)
      - [业务逻辑错误](./错误处理策略.md#业务逻辑错误)
      - [数据一致性](./错误处理策略.md#数据一致性)
  - [编码标准](./编码标准.md)
    - [核心标准](./编码标准.md#核心标准)
    - [命名约定](./编码标准.md#命名约定)
    - [关键规则 (AI智能体必须严格遵守)](./编码标准.md#关键规则-ai智能体必须严格遵守)
    - [语言特定指南](./编码标准.md#语言特定指南)
  - [测试策略与标准](./测试策略与标准.md)
    - [测试理念](./测试策略与标准.md#测试理念)
    - [测试类型与组织](./测试策略与标准.md#测试类型与组织)
      - [1. 单元测试 (Unit Tests)](./测试策略与标准.md#1-单元测试-unit-tests)
      - [2. 集成测试 (Integration Tests)](./测试策略与标准.md#2-集成测试-integration-tests)
      - [3. 端到端测试 (End-to-End Tests)](./测试策略与标准.md#3-端到端测试-end-to-end-tests)
    - [测试数据管理](./测试策略与标准.md#测试数据管理)
    - [持续测试](./测试策略与标准.md#持续测试)
  - [安全](./安全.md)
    - [输入验证](./安全.md#输入验证)
    - [认证与授权 (Authentication & Authorization)](./安全.md#认证与授权-authentication-authorization)
    - [密钥管理 (Secrets Management)](./安全.md#密钥管理-secrets-management)
    - [API安全](./安全.md#api安全)
    - [数据保护](./安全.md#数据保护)
    - [依赖安全](./安全.md#依赖安全)
    - [安全测试 (后MVP)](./安全.md#安全测试-后mvp)
