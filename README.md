# InfiniteScribe - AIå°è¯´ç”Ÿæˆå¹³å°

> AI-Powered Novel Writing Platform

**âš ï¸ é¡¹ç›®çŠ¶æ€ï¼šMVP å¼€å‘ä¸­** InfiniteScribe æ˜¯ä¸€ä¸ªåŸºäºå¤šæ™ºèƒ½ä½“åä½œçš„ AI å°è¯´åˆ›ä½œ
å¹³å°ï¼Œç›®å‰æ­£åœ¨ç§¯æå¼€å‘ä¸­ã€‚æœ¬é¡¹ç›®é‡‡ç”¨å¤šä¸ªä¸“ä¸š AI ä»£ç†çš„ååŒå·¥ä½œæ¥å®ç°é«˜è´¨é‡ã€è¿è´¯
çš„é•¿ç¯‡å°è¯´ç”Ÿæˆã€‚

## ğŸš§ å½“å‰å¼€å‘çŠ¶æ€

- âœ… **åŸºç¡€è®¾æ–½é…ç½®**ï¼šDocker å®¹å™¨åŒ–ã€å¼€å‘å·¥å…·é“¾ã€CI/CD æµç¨‹
- ğŸ”„ **åç«¯å¼€å‘**ï¼šAPI Gateway å’Œ Agent æœåŠ¡æ¶æ„ï¼ˆå¼€å‘ä¸­ï¼‰
- ğŸ”„ **å‰ç«¯å¼€å‘**ï¼šReact 18 + TypeScriptï¼ˆå¼€å‘ä¸­ï¼‰
- ğŸ“‹ **é¡¹ç›®ç®¡ç†**ï¼šåŸºäº bmad æ–¹æ³•è®ºçš„æ•…äº‹é©±åŠ¨å¼€å‘

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

InfiniteScribeåˆ©ç”¨æœ€å…ˆè¿›çš„AIæŠ€æœ¯å’Œå¤šæ™ºèƒ½ä½“æ¶æ„ï¼Œä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªå…¨é¢çš„å°è¯´åˆ›ä½œè§£å†³
æ–¹æ¡ˆã€‚ç³»ç»ŸåŒ…å«å‰ç«¯åº”ç”¨ã€APIç½‘å…³ã€å¤šä¸ªä¸“ä¸šæ™ºèƒ½ä½“æœåŠ¡ï¼Œä»¥åŠå®Œæ•´çš„åŸºç¡€è®¾æ–½æ”¯æŒã€‚

### æ ¸å¿ƒç‰¹æ€§ï¼ˆè§„åˆ’ä¸­ï¼‰

- ğŸ¤– **å¤šæ™ºèƒ½ä½“åä½œ**ï¼šä¸–ç•Œè§‚æ„å»ºã€å‰§æƒ…ç­–åˆ’ã€è§’è‰²å¡‘é€ ç­‰ä¸“ä¸š AI ä»£ç†
- ğŸ“š **æ™ºèƒ½åˆ›ä½œ**ï¼šåŸºäºä¸Šä¸‹æ–‡çš„è¿è´¯æ€§å†™ä½œå’Œæƒ…èŠ‚å‘å±•
- ğŸ¨ **ä¸ªæ€§åŒ–å®šåˆ¶**ï¼šæ”¯æŒä¸åŒå†™ä½œé£æ ¼å’Œé¢˜æ
- ğŸ” **è´¨é‡æ§åˆ¶**ï¼šè‡ªåŠ¨åŒ–çš„å†…å®¹å®¡æ ¸å’Œè´¨é‡è¯„ä¼°
- ğŸ’¾ **ç‰ˆæœ¬ç®¡ç†**ï¼šå®Œæ•´çš„åˆ›ä½œå†å²å’Œç‰ˆæœ¬æ§åˆ¶

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### å·²é…ç½®/å¼€å‘ä¸­

- **åç«¯**: Python 3.11 + FastAPI + Pydantic
- **å‰ç«¯**: React 18.2 + TypeScript ~5.2.2 + Vite + Tailwind CSS + Shadcn UI
- **æ•°æ®åº“**: PostgreSQL 16 + Redis 7.2 + Neo4j 5.x + Milvus 2.6
- **æ¶ˆæ¯é˜Ÿåˆ—**: Apache Kafka 3.7
- **å·¥ä½œæµç¼–æ’**: Prefect 3.x
- **å¯¹è±¡å­˜å‚¨**: MinIO
- **AI/LLM**: LiteLLM (ç»Ÿä¸€å¤šæ¨¡å‹æ¥å£)
- **å¯è§‚æµ‹æ€§**: Langfuse
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **åŒ…ç®¡ç†**: pnpm ~8.15.9 (Monorepo) + uv (Python)

## ğŸ“ é¡¹ç›®ç»“æ„

```text
infinite-scribe/
â”œâ”€â”€ apps/                       # ç‹¬ç«‹åº”ç”¨
â”‚   â”œâ”€â”€ frontend/              # Reactå‰ç«¯åº”ç”¨ï¼ˆå¼€å‘ä¸­ï¼‰
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/   # Reactç»„ä»¶ï¼ˆUIç»„ä»¶åº“ã€è‡ªå®šä¹‰ç»„ä»¶ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/        # é¡µé¢ç»„ä»¶ï¼ˆè®¤è¯ã€Dashboardç­‰ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ services/     # APIæœåŠ¡å±‚ï¼ˆè®¤è¯ã€å¥åº·æ£€æŸ¥ç­‰ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/        # React Hooksï¼ˆè®¤è¯ã€æŸ¥è¯¢ç­‰ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ types/        # TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ models/   # æ•°æ®æ¨¡å‹ç±»å‹
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ api/      # APIæ¥å£ç±»å‹
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ events/   # äº‹ä»¶ç±»å‹
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ enums/    # æšä¸¾ç±»å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ utils/        # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â””â”€â”€ lib/          # å…±äº«åº“ï¼ˆæŸ¥è¯¢å®¢æˆ·ç«¯ç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ e2e/             # Playwrightç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â”‚   â””â”€â”€ public/          # é™æ€èµ„æº
â”‚   â””â”€â”€ backend/               # ç»Ÿä¸€åç«¯æœåŠ¡ï¼ˆå·²å®ç°ï¼‰
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ api/          # APIç½‘å…³æœåŠ¡ï¼ˆFastAPIåº”ç”¨ï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ routes/   # APIè·¯ç”±ï¼ˆè®¤è¯ã€å¥åº·æ£€æŸ¥ç­‰ï¼‰
â”‚       â”‚   â”‚   â””â”€â”€ schemas/  # API Schemaå®šä¹‰
â”‚       â”‚   â”œâ”€â”€ agents/       # AgentæœåŠ¡æ¡†æ¶
â”‚       â”‚   â”‚   â”œâ”€â”€ worldsmith/      # ä¸–ç•Œé“¸é€ å¸ˆAgent
â”‚       â”‚   â”‚   â”œâ”€â”€ plotmaster/      # å‰§æƒ…ç­–åˆ’å¸ˆAgent
â”‚       â”‚   â”‚   â”œâ”€â”€ outliner/        # å¤§çº²è§„åˆ’å¸ˆAgent
â”‚       â”‚   â”‚   â”œâ”€â”€ director/        # å¯¼æ¼”Agent
â”‚       â”‚   â”‚   â”œâ”€â”€ characterexpert/ # è§’è‰²ä¸“å®¶Agent
â”‚       â”‚   â”‚   â”œâ”€â”€ worldbuilder/    # ä¸–ç•Œè§‚æ„å»ºå¸ˆAgent
â”‚       â”‚   â”‚   â”œâ”€â”€ writer/          # ä½œå®¶Agent
â”‚       â”‚   â”‚   â”œâ”€â”€ critic/          # è¯„è®ºå®¶Agent
â”‚       â”‚   â”‚   â”œâ”€â”€ factchecker/     # äº‹å®æ ¸æŸ¥å‘˜Agent
â”‚       â”‚   â”‚   â””â”€â”€ rewriter/        # æ”¹å†™è€…Agent
â”‚       â”‚   â”œâ”€â”€ common/       # å…±äº«æœåŠ¡å±‚
â”‚       â”‚   â”‚   â”œâ”€â”€ services/ # ä¸šåŠ¡æœåŠ¡ï¼ˆè®¤è¯ã€æ•°æ®åº“ã€ç¼“å­˜ç­‰ï¼‰
â”‚       â”‚   â”‚   â””â”€â”€ utils/    # å·¥å…·å‡½æ•°
â”‚       â”‚   â”œâ”€â”€ core/         # æ ¸å¿ƒé…ç½®ï¼ˆæ•°æ®åº“ã€è®¾ç½®ç­‰ï¼‰
â”‚       â”‚   â”œâ”€â”€ db/           # æ•°æ®åº“è¿æ¥å±‚
â”‚       â”‚   â”‚   â”œâ”€â”€ sql/      # PostgreSQLè¿æ¥ç®¡ç†
â”‚       â”‚   â”‚   â”œâ”€â”€ graph/    # Neo4jè¿æ¥ç®¡ç†
â”‚       â”‚   â”‚   â””â”€â”€ vector/   # Milvuså‘é‡æ•°æ®åº“
â”‚       â”‚   â”œâ”€â”€ middleware/   # ä¸­é—´ä»¶ï¼ˆCORSã€è®¤è¯ã€é™æµç­‰ï¼‰
â”‚       â”‚   â”œâ”€â”€ models/       # SQLAlchemy ORMæ¨¡å‹
â”‚       â”‚   â””â”€â”€ schemas/      # Pydantic Schemaï¼ˆCQRSæ¨¡å¼ï¼‰
â”‚       â”‚       â”œâ”€â”€ chapter/  # ç« èŠ‚Schema
â”‚       â”‚       â”œâ”€â”€ novel/    # å°è¯´Schema
â”‚       â”‚       â”œâ”€â”€ character/# è§’è‰²Schema
â”‚       â”‚       â””â”€â”€ ...       # å…¶ä»–é¢†åŸŸSchema
â”‚       â”œâ”€â”€ tests/           # æµ‹è¯•å¥—ä»¶ï¼ˆå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ï¼‰
â”‚       â”œâ”€â”€ scripts/         # åç«¯è„šæœ¬
â”‚       â”œâ”€â”€ alembic/         # æ•°æ®åº“è¿ç§»
â”‚       â”œâ”€â”€ Dockerfile       # ç»Ÿä¸€Dockeré•œåƒ
â”‚       â””â”€â”€ pyproject.toml   # Pythonä¾èµ–ï¼ˆä½¿ç”¨uvç®¡ç†ï¼‰
â”œâ”€â”€ deploy/                    # Docker Composeéƒ¨ç½²é…ç½®
â”‚   â”œâ”€â”€ docker-compose.yml   # åŸºç¡€è®¾æ–½æœåŠ¡
â”‚   â””â”€â”€ environments/        # ç¯å¢ƒé…ç½®æ–‡ä»¶
â”œâ”€â”€ docs/                     # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture/        # æ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ guides/             # å¼€å‘å’Œéƒ¨ç½²æŒ‡å—
â”‚   â”œâ”€â”€ prd/                # äº§å“éœ€æ±‚æ–‡æ¡£
â”‚   â””â”€â”€ stories/            # ç”¨æˆ·æ•…äº‹ï¼ˆbmadæ–¹æ³•è®ºï¼‰
â”œâ”€â”€ scripts/                 # é¡¹ç›®è„šæœ¬
â”‚   â”œâ”€â”€ deploy/             # éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ dev/                # å¼€å‘å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ ops/                # è¿ç»´è„šæœ¬
â”‚   â””â”€â”€ test/               # æµ‹è¯•è„šæœ¬
â”œâ”€â”€ api-docs/               # APIæ–‡æ¡£å’Œæµ‹è¯•å·¥å…·
â”œâ”€â”€ Makefile                # Makeå‘½ä»¤å®šä¹‰
â”œâ”€â”€ package.json            # Monorepoé…ç½®ï¼ˆpnpmï¼‰
â””â”€â”€ pnpm-workspace.yaml     # pnpmå·¥ä½œåŒºé…ç½®
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >=20.0.0
- pnpm ~8.15.9
- Docker & Docker Compose
- Python ~3.11
- uv (ç°ä»£PythonåŒ…ç®¡ç†å™¨)

### å¼€å‘å‘½ä»¤è¯´æ˜

æœ¬é¡¹ç›®æ”¯æŒä½¿ç”¨ `make` æˆ– `pnpm` æ¥æ‰§è¡Œå¼€å‘ä»»åŠ¡ã€‚ä¸¤ç§æ–¹å¼åŠŸèƒ½å®Œå…¨ç›¸åŒï¼Œå¯æ ¹æ®ä¸ªäºº
å–œå¥½é€‰æ‹©ï¼š

```bash
# ä½¿ç”¨ Makeï¼ˆæ›´ç®€æ´ï¼‰
make backend-run       # å¯åŠ¨åç«¯æœåŠ¡
make test-all         # è¿è¡Œæ‰€æœ‰æµ‹è¯•

# ä½¿ç”¨ pnpmï¼ˆæ›´æ˜ç¡®ï¼‰
pnpm run backend:run   # å¯åŠ¨åç«¯æœåŠ¡
pnpm run test:all     # è¿è¡Œæ‰€æœ‰æµ‹è¯•

# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make help             # Make å‘½ä»¤å¸®åŠ©
pnpm run              # pnpm è„šæœ¬åˆ—è¡¨
```

è¯¦ç»†çš„å‘½ä»¤å¯¹ç…§è¡¨è¯·å‚è€ƒ [å¼€å‘å‘½ä»¤å‚è€ƒ](./docs/guides/development/command-reference.md)ã€‚

### å®‰è£…ä¾èµ–

#### å¿«é€Ÿè®¾ç½®ï¼ˆæ¨èï¼‰

```bash
# ä½¿ç”¨ Make
make setup

# æˆ–ä½¿ç”¨åŸè„šæœ¬
./scripts/dev/setup-dev.sh
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ï¼š

- å®‰è£… uv åŒ…ç®¡ç†å™¨ï¼ˆå¦‚æœéœ€è¦ï¼‰
- åˆ›å»º Python è™šæ‹Ÿç¯å¢ƒ
- å®‰è£…æ‰€æœ‰ Python ä¾èµ–
- è®¾ç½® pre-commit hooks
- å®‰è£…å‰ç«¯ä¾èµ–

#### æ‰‹åŠ¨è®¾ç½®

```bash
# å®‰è£… pnpmï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
npm install -g pnpm@8.15.9

# å®‰è£…å‰ç«¯ä¾èµ–
pnpm install

# å®‰è£… uvï¼ˆPython åŒ…ç®¡ç†å™¨ï¼‰
curl -LsSf https://astral.sh/uv/install.sh | sh

# åˆ›å»º Python è™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–
uv venv
uv sync --dev

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source .venv/bin/activate

# è®¾ç½® pre-commit hooks
pre-commit install
```

### ç¯å¢ƒé…ç½®

InfiniteScribe ä½¿ç”¨ç®€åŒ–çš„ç¯å¢ƒé…ç½®ç»“æ„ï¼Œæ”¯æŒä¸‰ç§ä¸»è¦ç¯å¢ƒï¼š

```bash
# é¦–æ¬¡è®¾ç½® - æ•´åˆç°æœ‰ç¯å¢ƒæ–‡ä»¶ï¼ˆå¦‚æœå­˜åœ¨æ—§æ–‡ä»¶ï¼‰
pnpm env:consolidate

# åˆ›å»ºæœ¬åœ°å¼€å‘ç¯å¢ƒé…ç½®
cp .env.example .env.local
# ç¼–è¾‘ .env.localï¼Œè®¾ç½®æ•°æ®åº“å¯†ç ã€APIå¯†é’¥ç­‰

# åˆ‡æ¢åˆ°æœ¬åœ°å¼€å‘ç¯å¢ƒï¼ˆé»˜è®¤ï¼‰
pnpm env:local

# å…¶ä»–ç¯å¢ƒåˆ‡æ¢å‘½ä»¤
pnpm env:dev      # åˆ‡æ¢åˆ°å¼€å‘æœåŠ¡å™¨ (192.168.2.201)
pnpm env:test     # åˆ‡æ¢åˆ°æµ‹è¯•ç¯å¢ƒ
pnpm env:show     # æŸ¥çœ‹å½“å‰ç¯å¢ƒ
```

> ğŸ’¡ **æç¤º**: `.env` æ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥ï¼ŒæŒ‡å‘å½“å‰æ¿€æ´»çš„ç¯å¢ƒé…ç½®æ–‡ä»¶ã€‚è¯¦ç»†ç¯å¢ƒé…ç½®è¯´
> æ˜è¯·å‚è€ƒ [ç¯å¢ƒå˜é‡ç»“æ„è¯´æ˜](./docs/guides/deployment/environment-structure.md)ã€‚

### ğŸ”„ å¼€å‘å·¥ä½œæµ

æ¨èçš„æ—¥å¸¸å¼€å‘æµç¨‹ï¼ˆä¼˜å…ˆä½¿ç”¨ Make å‘½ä»¤ï¼‰ï¼š

```bash
# 1. åˆå§‹è®¾ç½®ï¼ˆåªéœ€è¦åšä¸€æ¬¡ï¼‰
./scripts/dev/setup-dev.sh  # å®‰è£…æ‰€æœ‰ä¾èµ–
pnpm infra up               # å¯åŠ¨åŸºç¡€è®¾æ–½æœåŠ¡ï¼ˆæ–°å‘½ä»¤ï¼ï¼‰
pnpm check:services         # æ£€æŸ¥æœåŠ¡çŠ¶æ€

# 2. æ—¥å¸¸å¼€å‘ï¼ˆåœ¨ä¸¤ä¸ªç»ˆç«¯ä¸­è¿è¡Œï¼‰
pnpm backend:run            # ç»ˆç«¯ 1: å¯åŠ¨åç«¯ API ç½‘å…³
pnpm frontend:run           # ç»ˆç«¯ 2: å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨

# 3. ä»£ç è´¨é‡æ£€æŸ¥ï¼ˆæäº¤å‰ï¼‰
pnpm lint:all               # ä»£ç æ ¼å¼å’Œè§„èŒƒæ£€æŸ¥
pnpm typecheck:all          # ç±»å‹æ£€æŸ¥
pnpm backend:test:unit      # å•å…ƒæµ‹è¯•

# 4. å®Œæ•´æµ‹è¯•ï¼ˆæäº¤å‰å»ºè®®è¿è¡Œï¼‰
pnpm test:all               # å…¨éƒ¨æµ‹è¯•ï¼ˆDocker å®¹å™¨æ¨¡å¼ï¼‰

# 5. éƒ¨ç½²åˆ°å¼€å‘æœåŠ¡å™¨ï¼ˆæ–°çš„ç»Ÿä¸€å‘½ä»¤ï¼ï¼‰
pnpm app                    # éƒ¨ç½²æ‰€æœ‰åº”ç”¨æœåŠ¡
pnpm app --build            # é‡æ–°æ„å»ºå¹¶éƒ¨ç½²ï¼ˆæ›´æ–°ä¾èµ–åï¼‰
```

**å¿«æ·å‘½ä»¤ï¼š**
- `pnpm run` - æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
- `pnpm check` - è¿è¡Œæ‰€æœ‰æ£€æŸ¥ï¼ˆä»£ç è§„èŒƒ + ç±»å‹ + å•å…ƒæµ‹è¯•ï¼‰  
- `pnpm clean` - æ¸…ç†ç¼“å­˜å’Œæ„å»ºäº§ç‰©

**ç¯å¢ƒç®¡ç†å‘½ä»¤ï¼š**
```bash
# SSH è¿æ¥å‘½ä»¤
pnpm ssh:dev                # è¿æ¥å¼€å‘æœåŠ¡å™¨ (192.168.2.201)
pnpm ssh:test               # è¿æ¥æµ‹è¯•æœåŠ¡å™¨ (192.168.2.202)
# æˆ–ä½¿ç”¨ Make
make ssh-dev                # è¿æ¥å¼€å‘æœåŠ¡å™¨
make ssh-test               # è¿æ¥æµ‹è¯•æœåŠ¡å™¨

# ç¯å¢ƒåŒæ­¥ä¸é…ç½®
pnpm env:sync-frontend      # åŒæ­¥å‰ç«¯ç¯å¢ƒé…ç½®

# è¿œç¨‹æ—¥å¿—å’Œå¤‡ä»½
pnpm logs:remote            # æŸ¥çœ‹è¿œç¨‹æœåŠ¡æ—¥å¿—
pnpm backup:dev             # å¤‡ä»½å¼€å‘æ•°æ®
```

### å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
# å¯åŠ¨åŸºç¡€è®¾æ–½æœåŠ¡ï¼ˆæ•°æ®åº“ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰ï¼‰
pnpm infra up

# æ£€æŸ¥æ‰€æœ‰æœåŠ¡å¥åº·çŠ¶æ€
pnpm check:services

# å‰ç«¯å¼€å‘æœåŠ¡å™¨
pnpm --filter frontend dev

# å¯åŠ¨APIç½‘å…³ï¼ˆåœ¨æ–°ç»ˆç«¯ï¼‰
pnpm backend:run

# ç›´æ¥ä½¿ç”¨ uvicornï¼ˆé«˜çº§ç”¨æ³•ï¼‰
cd apps/backend
uv run uvicorn src.api.main:app --reload --host 0.0.0.0 --port 8000

# å¯åŠ¨ç‰¹å®šAgentæœåŠ¡ï¼ˆé«˜çº§ç”¨æ³•ï¼‰
SERVICE_TYPE=agent-worldsmith python -m src.agents.worldsmith.main
```

> ğŸ“– **æ³¨æ„**: æ›´å¤šPythonå¼€å‘ç¯å¢ƒé…ç½®å’Œä½¿ç”¨è¯´æ˜ï¼Œè¯·å‚è€ƒ
> [Python å¼€å‘å¿«é€Ÿå…¥é—¨](./docs/guides/development/python-dev-quickstart.md)ã€‚

#### åŸºç¡€è®¾æ–½å’Œéƒ¨ç½²å‘½ä»¤

```bash
# å¯åŠ¨æ‰€æœ‰åŸºç¡€è®¾æ–½æœåŠ¡
pnpm infra up

# åœæ­¢æ‰€æœ‰æœåŠ¡
pnpm infra down

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
pnpm infra logs

# éƒ¨ç½²åŸºç¡€è®¾æ–½åˆ°å¼€å‘æœåŠ¡å™¨
pnpm infra deploy

# â­ åº”ç”¨éƒ¨ç½² - åªéœ€è¦è®°ä½æœ€å¸¸ç”¨çš„å‘½ä»¤ï¼š
pnpm app                     # æ—¥å¸¸ä»£ç éƒ¨ç½²ï¼ˆ90% çš„æ—¶å€™ç”¨è¿™ä¸ªï¼‰
pnpm app --build             # é‡æ–°æ„å»ºå¹¶éƒ¨ç½²ï¼ˆæ›´æ–°ä¾èµ–åï¼‰
pnpm app --type backend      # åªéƒ¨ç½²åç«¯æœåŠ¡
pnpm app --service api-gateway  # åªéƒ¨ç½² API Gateway

# SSH è¿æ¥
pnpm ssh:dev                 # è¿æ¥åˆ°å¼€å‘æœåŠ¡å™¨
pnpm ssh:test                # è¿æ¥åˆ°æµ‹è¯•æœåŠ¡å™¨

# ğŸ“– å®Œæ•´éƒ¨ç½²å‘½ä»¤å‚è€ƒï¼šdocs/guides/deployment/DEPLOY_SIMPLE.md
```

### æœåŠ¡å¥åº·æ£€æŸ¥

```bash
# æ£€æŸ¥æ‰€æœ‰å¿…éœ€æœåŠ¡çš„è¿è¡ŒçŠ¶æ€
pnpm check:services

# è¿è¡Œå®Œæ•´çš„æœåŠ¡å¥åº·æ£€æŸ¥ï¼ˆéœ€è¦é¢å¤–ä¾èµ–ï¼‰
pnpm check:services:full
```

æœåŠ¡æ£€æŸ¥åŒ…æ‹¬ï¼š

- PostgreSQLã€Redisã€Neo4j æ•°æ®åº“è¿æ¥
- Kafka æ¶ˆæ¯é˜Ÿåˆ—çŠ¶æ€
- Milvus å‘é‡æ•°æ®åº“
- MinIO å¯¹è±¡å­˜å‚¨
- Prefect å·¥ä½œæµç¼–æ’å¹³å°
- æ‰€æœ‰æœåŠ¡çš„ Web UI è®¿é—®æ€§

### é¡¹ç›®ç»“æ„éªŒè¯

```bash
# è¿è¡Œé¡¹ç›®ç»“æ„æµ‹è¯•
pnpm test:structure
```

## ğŸ“‹ å¼€å‘è¿›åº¦ç®¡ç†

æœ¬é¡¹ç›®é‡‡ç”¨åŸºäº **bmad æ–¹æ³•è®º**çš„æ•…äº‹é©±åŠ¨å¼€å‘æ¨¡å¼ï¼Œé€šè¿‡ç”¨æˆ·æ•…äº‹æ¥ç»„ç»‡å’Œè·Ÿè¸ªå¼€å‘è¿›
åº¦ã€‚

### æŸ¥çœ‹å½“å‰è¿›åº¦

```bash
# æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·æ•…äº‹
ls docs/stories/

# æŸ¥çœ‹ç‰¹å®šæ•…äº‹è¯¦æƒ…
cat docs/stories/1.1.story.md
```

### å½“å‰æ•…äº‹çŠ¶æ€

| æ•…äº‹                                     | çŠ¶æ€      | æè¿°                          |
| ---------------------------------------- | --------- | ----------------------------- |
| [Story 1.1](./docs/stories/1.1.story.md) | âœ… Done   | åˆå§‹åŒ– Monorepo é¡¹ç›®ç»“æ„      |
| [Story 1.2](./docs/stories/1.2.story.md) | âœ… Done   | éƒ¨ç½²æ ¸å¿ƒäº‹ä»¶ã€å­˜å‚¨ä¸ç¼–æ’æœåŠ¡  |
| [Story 1.3](./docs/stories/1.3.story.md) | âœ… Done   | åˆ›å»ºå¹¶éƒ¨ç½²å¥åº·çš„ API ç½‘å…³æœåŠ¡ |
| [Story 1.4](./docs/stories/1.4.story.md) | âœ… Done   | åˆ›å»ºå¹¶éƒ¨ç½²åŸºç¡€å‰ç«¯ä»ªè¡¨ç›˜UI    |
| [Story 2.1](./docs/stories/2.1.story.md) | âœ… Done   | å®ç°ç»Ÿä¸€é¢†åŸŸäº‹ä»¶ä¸å‘½ä»¤æ¨¡å¼çš„æ•°æ®æ¨¡å‹ |

### ä¸‹ä¸€æ­¥å¼€å‘ä¼˜å…ˆçº§

1. **Story 2.2** - è®¡åˆ’ä¸­ï¼šå®ç°åŸºäº Prefect çš„æ ¸å¿ƒå·¥ä½œæµç¼–æ’ç³»ç»Ÿ
2. **Story 2.3** - è®¡åˆ’ä¸­ï¼šæ„å»º Agent æ¡†æ¶å’Œ BaseAgent æŠ½è±¡ç±»
3. **æ ¸å¿ƒ Agent å®ç°** - è®¡åˆ’ä¸­ï¼šä¸–ç•Œè§‚æ„å»ºå¸ˆç­‰ä¸“ä¸š AI ä»£ç†
4. **ç”¨æˆ·è®¤è¯ç³»ç»Ÿå®Œå–„** - è¿›è¡Œä¸­ï¼šReact åº”ç”¨çš„å®Œæ•´è®¤è¯æµç¨‹
5. **é›†æˆæµ‹è¯•** - è®¡åˆ’ä¸­ï¼šç«¯åˆ°ç«¯åŠŸèƒ½æµ‹è¯•å’Œ MVP éªŒè¯

> ğŸ“– **æ•…äº‹è¯¦æƒ…**: æ¯ä¸ªæ•…äº‹éƒ½åŒ…å«è¯¦ç»†çš„éªŒæ”¶æ ‡å‡†ã€ä»»åŠ¡åˆ†è§£ã€æŠ€æœ¯æŒ‡å¯¼å’Œæµ‹è¯•è¦æ±‚ï¼Œ
> è¯·æŸ¥çœ‹ `docs/stories/` ç›®å½•ä¸­çš„å…·ä½“æ–‡æ¡£ã€‚

## ğŸ”§ æœåŠ¡è¯¦æƒ…

### åŸºç¡€è®¾æ–½è¯´æ˜

- **å¼€å‘æœåŠ¡å™¨ (192.168.2.201)**: ä»…ç”¨äºå¼€å‘ç¯å¢ƒçš„æŒä¹…åŒ–æœåŠ¡ï¼Œ**ä¸å¯ç”¨äºä»»ä½•æµ‹
  è¯•**
- **æµ‹è¯•æœåŠ¡å™¨ (192.168.2.202)**: ä¸“é—¨ç”¨äºæ‰€æœ‰æµ‹è¯•ï¼Œæ”¯æŒç ´åæ€§æµ‹è¯•

æ‰€æœ‰å¼€å‘æœåŠ¡éƒ¨ç½²åœ¨ `192.168.2.201` ä¸Šï¼Œéœ€è¦åœ¨åŒä¸€å†…ç½‘æ‰èƒ½è®¿é—®ã€‚

### æœåŠ¡ç«¯å£æ˜ å°„

| æœåŠ¡        | ç«¯å£      | è®¿é—®åœ°å€                         | é»˜è®¤å‡­è¯                    |
| ----------- | --------- | -------------------------------- | ----------------------------- |
| **å‰ç«¯**    | 3000      | http://localhost:3000            | -                             |
| **APIç½‘å…³** | 8000      | http://192.168.2.201:8000       | -                             |
| PostgreSQL  | 5432      | 192.168.2.201:5432              | postgres/postgres             |
| Redis       | 6379      | 192.168.2.201:6379              | è§.env.infrastructure         |
| Neo4j       | 7474/7687 | http://192.168.2.201:7474       | neo4j/password                |
| Kafka       | 9092      | 192.168.2.201:9092              | -                             |
| Milvus      | 19530     | 192.168.2.201:19530             | -                             |
| MinIO       | 9000/9001 | http://192.168.2.201:9001       | admin/è§.env.infrastructure    |
| Prefect     | 4200      | http://192.168.2.201:4200       | -                             |

> ğŸ’¡ **è¯¦ç»†é…ç½®**: å®Œæ•´çš„æœåŠ¡é…ç½®ã€Web UI è®¿é—®åœ°å€ã€æ•…éšœæ’é™¤ç­‰è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ
> [è¯¦ç»†å¼€å‘æŒ‡å—](./docs/guides/development/detailed-development-guide.md)ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘å·¥ä½œæµ

ç”±äºé¡¹ç›®å¤„äºæ—©æœŸå¼€å‘é˜¶æ®µï¼Œæˆ‘ä»¬ç‰¹åˆ«æ¬¢è¿ä»¥ä¸‹ç±»å‹çš„è´¡çŒ®ï¼š

1. **åŸºç¡€æ¶æ„å®Œå–„**ï¼šå®Œå–„ Docker é…ç½®ã€CI/CD æµç¨‹
2. **Agent æ¡†æ¶å¼€å‘**ï¼šå®ç° BaseAgent æŠ½è±¡ç±»å’Œé€šç”¨åŠŸèƒ½
3. **å‰ç«¯ç•Œé¢è®¾è®¡**ï¼šå¼€å§‹å‰ç«¯åº”ç”¨çš„å¼€å‘
4. **æ–‡æ¡£å®Œå–„**ï¼šAPI æ–‡æ¡£ã€æ¶æ„æ–‡æ¡£ã€å¼€å‘æŒ‡å—

### è´¡çŒ®æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æŸ¥çœ‹ `docs/stories/` ä¸­çš„ç”¨æˆ·æ•…äº‹ç¡®è®¤å¼€å‘ä¼˜å…ˆçº§
4. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
5. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
6. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ

- **Python**: ä½¿ç”¨ Ruff + Black è¿›è¡Œä»£ç æ ¼å¼åŒ–
  ```bash
  make backend-lint      # è¿è¡Œ Ruff æ£€æŸ¥
  make backend-format    # æ ¼å¼åŒ– Python ä»£ç 
  make backend-typecheck # Mypy ç±»å‹æ£€æŸ¥
  ```
- **TypeScript**: ä½¿ç”¨ ESLint + Prettier
  ```bash
  pnpm lint             # ESLint æ£€æŸ¥
  pnpm format           # Prettier æ ¼å¼åŒ–
  ```
- **æäº¤ä¿¡æ¯**: éµå¾ª Conventional Commits è§„èŒƒ
- **æµ‹è¯•**: æ‰€æœ‰æ–°åŠŸèƒ½éœ€è¦åŒ…å«ç›¸åº”æµ‹è¯•
  ```bash
  make test-unit         # å•å…ƒæµ‹è¯•
  make test-integration  # é›†æˆæµ‹è¯•  
  make test-coverage     # æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
  ```

> ğŸ“ **è¯¦ç»†è§„èŒƒ**: å®Œæ•´çš„ä»£ç è§„èŒƒè¯´æ˜ã€CI/CD é…ç½®ã€æµ‹è¯•ç¯å¢ƒé…ç½®ç­‰è¯·å‚è€ƒ
> [è¯¦ç»†å¼€å‘æŒ‡å—](./docs/guides/development/detailed-development-guide.md)ã€‚

## ğŸ“š æ–‡æ¡£

> ğŸ“– **å®Œæ•´æ–‡æ¡£ç´¢å¼•**: æŸ¥çœ‹ [æ–‡æ¡£ä¸­å¿ƒ](./docs/README.md) è·å–æ‰€æœ‰æ–‡æ¡£çš„åˆ†ç±»ç´¢å¼•
> å’Œå¿«é€Ÿå¯¼èˆªã€‚

### æ ¸å¿ƒæ–‡æ¡£

- [é¡¹ç›®æ¶æ„](./docs/architecture/)
- [äº§å“éœ€æ±‚æ–‡æ¡£](./docs/prd/)
- [å‰ç«¯è§„æ ¼è¯´æ˜](./docs/front-end-spec.md)

### å¼€å‘æŒ‡å—

- [è¯¦ç»†å¼€å‘æŒ‡å—](./docs/guides/development/detailed-development-guide.md) - å®Œæ•´çš„æŠ€æœ¯
  é…ç½®å’Œè¯¦ç»†è¯´æ˜
- [å¼€å‘æœ€ä½³å®è·µ](./docs/guides/development/)
- [éƒ¨ç½²æŒ‡å—](./docs/guides/deployment/)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ç›®å‰ä¸ºç§æœ‰é¡¹ç›®ï¼Œæœªå¼€æºã€‚å¦‚éœ€ä½¿ç”¨è¯·è”ç³»é¡¹ç›®ç»´æŠ¤è€…ã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- [é¡¹ç›®ä»“åº“](https://github.com/zhiyue/infinite-scribe)
- [é—®é¢˜åé¦ˆ](https://github.com/zhiyue/infinite-scribe/issues)
- [å¼€å‘æ–‡æ¡£](./docs/)

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªæ­£åœ¨ç§¯æå¼€å‘çš„é¡¹ç›®ï¼ŒåŠŸèƒ½å’Œ API å¯èƒ½ä¼šé¢‘ç¹å˜æ›´ã€‚å»ºè®®å¼€å‘è€…å…³æ³¨
é¡¹ç›®æ›´æ–°ï¼Œå¹¶å‚è€ƒ `docs/stories/` ä¸­çš„ç”¨æˆ·æ•…äº‹äº†è§£æœ€æ–°å¼€å‘è¿›åº¦ã€‚
